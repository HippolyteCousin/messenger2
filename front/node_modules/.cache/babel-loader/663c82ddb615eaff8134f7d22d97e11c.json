{"ast":null,"code":"'use strict';\n\nvar Buffer = require('buffer').Buffer; // Returns either a Uint8Array or Buffer (doesn't matter to\n// IndexedDB, because Buffer is a subclass of Uint8Array)\n\n\nvar str2bin = function () {\n  if (global.TextEncoder) {\n    var encoder = new TextEncoder('utf-8');\n    return encoder.encode.bind(encoder);\n  } else {\n    return Buffer.from;\n  }\n}();\n\nmodule.exports = function (data, asBuffer) {\n  if (asBuffer) {\n    return Buffer.isBuffer(data) ? data : str2bin(String(data));\n  } else {\n    return String(data);\n  }\n};","map":{"version":3,"sources":["/home/duck/Documents/tweb/messenger2/frontend/node_modules/level-js/util/serialize.js"],"names":["Buffer","require","str2bin","global","TextEncoder","encoder","encode","bind","from","module","exports","data","asBuffer","isBuffer","String"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBD,MAA/B,C,CACA;AACA;;;AACA,IAAIE,OAAO,GAAI,YAAY;AACzB,MAAIC,MAAM,CAACC,WAAX,EAAwB;AACtB,QAAIC,OAAO,GAAG,IAAID,WAAJ,CAAgB,OAAhB,CAAd;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeC,IAAf,CAAoBF,OAApB,CAAP;AACD,GAHD,MAGO;AACL,WAAOL,MAAM,CAACQ,IAAd;AACD;AACF,CAPa,EAAd;;AASAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AACzC,MAAIA,QAAJ,EAAc;AACZ,WAAOZ,MAAM,CAACa,QAAP,CAAgBF,IAAhB,IAAwBA,IAAxB,GAA+BT,OAAO,CAACY,MAAM,CAACH,IAAD,CAAP,CAA7C;AACD,GAFD,MAEO;AACL,WAAOG,MAAM,CAACH,IAAD,CAAb;AACD;AACF,CAND","sourcesContent":["'use strict'\n\nvar Buffer = require('buffer').Buffer\n// Returns either a Uint8Array or Buffer (doesn't matter to\n// IndexedDB, because Buffer is a subclass of Uint8Array)\nvar str2bin = (function () {\n  if (global.TextEncoder) {\n    var encoder = new TextEncoder('utf-8')\n    return encoder.encode.bind(encoder)\n  } else {\n    return Buffer.from\n  }\n})()\n\nmodule.exports = function (data, asBuffer) {\n  if (asBuffer) {\n    return Buffer.isBuffer(data) ? data : str2bin(String(data))\n  } else {\n    return String(data)\n  }\n}\n"]},"metadata":{},"sourceType":"script"}